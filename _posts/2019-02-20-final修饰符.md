---
layout: post
title: finalä¿®é¥°ç¬¦
subtitle: è¿™ä¸ªä¹Ÿæ˜¯ä¸ªåŸºç¡€é¸­ğŸ˜ğŸ˜ğŸ˜
date: 2019-02-20
author: åä»”
header-img: img/post-bg-debug.png
catalog: true
tags:
    - Java
    - åŸºç¡€çŸ¥è¯†
---

|  final   |  ç±»  | æ¥å£ | æ–¹æ³• | å˜é‡ | å½¢å‚ |
| :------: | :--: | :--: | :--: | :--: | :--: |
| ä½¿ç”¨èŒƒå›´ |  âˆš   |  Ã—   |  âˆš   |  âˆš   |  âˆš   |

![finalæ”¾åœ¨Interfaceä¸Šæ—¶](http://blog-ipic.yananhuazai.cn/FjNo7mR5cNmRx1KQGinKv8pZza5Q)

## finalçš„ä½œç”¨èŒƒå›´ä»‹ç»

**åœ¨Javaä¸­ï¼Œfinalå¯ä»¥ä¿®é¥°ç±»ã€æ–¹æ³•ã€å˜é‡ï¼ˆæˆå‘˜å˜é‡ä»¥åŠå±€éƒ¨å˜é‡ï¼‰ã€è¿˜æœ‰æ–¹æ³•çš„å½¢å‚ã€‚**



### ä¿®é¥°ç±»

å½“ç”¨finalä¿®é¥°ä¸€ä¸ªç±»ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»ä¸å¯ä»¥è¢«å…¶ä»–ç±»ç»§æ‰¿ï¼Œä¹Ÿç§°ä¹‹ä¸ºï¼šç»ˆæ€ç±»ã€‚

![ç»§æ‰¿ä¸€ä¸ªè¢«finalä¿®é¥°çš„ç±»](http://blog-ipic.yananhuazai.cn/Fi_yh6AYn9UeI34nZf9l8RAAGB0N)

> finalä¿®é¥°åœ¨ç±»ä¸Šä¸€èˆ¬å‡ºäºå®‰å…¨ç”¨äºä¸éœ€è¦è¢«ç»§æ‰¿çš„ç±»ä¸­ï¼Œä¾‹å¦‚Stringç±»



### ä¿®é¥°æ–¹æ³•

> ä½¿ç”¨finalæ–¹æ³•çš„åŸå› æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ä¸ªåŸå› æ˜¯æŠŠæ–¹æ³•é”å®šï¼Œä»¥é˜²ä»»ä½•ç»§æ‰¿ç±»ä¿®æ”¹å®ƒçš„å«ä¹‰ï¼›ç¬¬äºŒä¸ªåŸå› æ˜¯æ•ˆç‡ã€‚åœ¨æ—©æœŸçš„Javaå®ç°ç‰ˆæœ¬ä¸­ï¼Œä¼šå°†finalæ–¹æ³•è½¬ä¸ºå†…åµŒè°ƒç”¨ã€‚ä½†æ˜¯å¦‚æœæ–¹æ³•è¿‡äºåºå¤§ï¼Œå¯èƒ½çœ‹ä¸åˆ°å†…åµŒè°ƒç”¨å¸¦æ¥çš„ä»»ä½•æ€§èƒ½æå‡ã€‚åœ¨æœ€è¿‘çš„Javaç‰ˆæœ¬ä¸­ï¼Œä¸éœ€è¦ä½¿ç”¨finalæ–¹æ³•è¿›è¡Œè¿™äº›ä¼˜åŒ–äº†ã€‚		--ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ç¬¬å››ç‰ˆ

![ä¿®é¥°æ–¹æ³•](http://blog-ipic.yananhuazai.cn/Fv8h55FSTDCiVG0NwKL6ikMAHQth)

![æŠ¥é”™ä¿¡æ¯](http://blog-ipic.yananhuazai.cn/FoMhRbBUW6yTSKZb07DLR1y28eSY)

**è¢«finalä¿®é¥°åçš„æ–¹æ³•çš„å·®å¼‚:**

- è¢«finalä¿®é¥°åçš„æ–¹æ³•ï¼Œå­ç±»ä¸èƒ½é‡å†™æ­¤æ–¹æ³•
- è¢«finalä¿®é¥°åçš„æ–¹æ³•ï¼Œå­ç±»å¯ä»¥é‡è½½æ­¤æ–¹æ³•
- è¢«finalä¿®é¥°åçš„privateæ–¹æ³•ï¼Œå­ç±»å¯ä»¥å£°æ˜ç›¸åŒçš„æ–¹æ³•ï¼ˆåŒåã€åŒå‚ï¼‰ï¼Œä¸çˆ¶ç±»æ— å…³

> æ³¨ï¼šç±»ä¸­è¢«privateä¿®é¥°çš„æ–¹æ³•ä¼šéšå¼æŒ‡å®šä¸ºfinalæ–¹æ³•



### ä¿®é¥°å˜é‡

> å½“finalä¿®é¥°ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œè¡¨ç¤ºè¯¥åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ä¸€æ—¦åœ¨åˆå§‹åŒ–åä¾¿ä¸èƒ½å‘ç”Ÿå˜åŒ–ï¼›å¦‚æœfinalä¿®é¥°ä¸€ä¸ªå¼•ç”¨ç±»å‹æ—¶ï¼Œåˆ™åœ¨å¯¹å…¶åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½å†è®©å…¶æŒ‡å‘å…¶ä»–å¯¹è±¡äº†ï¼Œä½†è¯¥å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡çš„å†…å®¹æ˜¯å¯ä»¥å‘ç”Ÿå˜åŒ–çš„ã€‚

**è¢«finalä¿®é¥°çš„æˆå‘˜å˜é‡è¡¨ç¤ºå¸¸é‡ï¼Œåªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ï¼Œèµ‹å€¼åä¸èƒ½å†æ”¹å˜ã€‚**

#### finalä¿®é¥°æˆå‘˜å˜é‡æ—¶çš„åˆå§‹æ–¹å¼

1. åœ¨å˜é‡å£°æ˜æ—¶èµ‹å€¼
2. åœ¨æ„é€ æ–¹æ³•ä¸­èµ‹å€¼

```java
public class A {
    
    //åœ¨å˜é‡å£°æ˜æ—¶èµ‹å€¼
    final String str = "Hello World";

    public void test() {
        //è¢«finalä¿®é¥°çš„æˆå‘˜å˜é‡ä¸èƒ½åœ¨æ–¹æ³•ä¸­èµ‹å€¼
        //str = "Other"; //Cannot assign a value to final variable "str"
    }
}
```

```java
public class A {
    final String str;

    public A() {
        //åœ¨æ„é€ æ–¹æ³•ä¸­èµ‹å€¼
        str = "Hello World";
    }
}
```

```java
public class A {
    final String str;

    public A() {
        str = "Hello World";
    }

    public A(String str2) {
        //ä¸èƒ½å­˜åœ¨æœªèµ‹å€¼çš„æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä¸­å¿…é¡»ä¸ºfinalå¸¸é‡ä¿®é¥°
        str = "Hello World2"; //å¿…é¡»
    }
}
```



### ä¿®é¥°æ–¹æ³•çš„å½¢å‚

```java
public class A {
    void test(final int i) {
        //i = 10; //å½“å½¢å‚è¢«finalä¿®é¥°æ—¶ï¼Œè¡¨ç¤ºæ­¤å½¢å‚ä¸ºåªè¯»çš„ åªèƒ½ä½¿ç”¨ï¼Œä¸èƒ½ä¿®æ”¹
        System.out.println(i);
    }

    void invoke() {
        int a = 10;
        test(a); //å½¢å‚è¢«finalä¿®é¥° å®å‚å¯ä»¥ä¼ å…¥æ™®é€šå˜é‡
    }
}
```



## è¢«finalä¿®é¥°çš„å˜é‡å’Œæ™®é€šå˜é‡çš„åŒºåˆ«

```java
public class A {
    public static void main(String[] args) {
        String a = "123";
        String b = "12";
        final String c = "12";

        String x = b + "3";
        String y = c + "3";
        System.out.println(a == y); //true
        System.out.println(a == x); //false
        //ç”±äºå˜é‡cè¢«finalä¿®é¥°ï¼Œå› æ­¤ä¼šè¢«å½“åšç¼–è¯‘å™¨å¸¸é‡ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨åˆ°cçš„åœ°æ–¹ä¼šç›´æ¥å°†å˜é‡cæ›¿æ¢ä¸ºå®ƒçš„å€¼ã€‚è€Œå¯¹äºå˜é‡bçš„è®¿é—®å´éœ€è¦åœ¨è¿è¡Œæ—¶é€šè¿‡é“¾æ¥æ¥è¿›è¡Œã€‚
    }
}
```

> åªæœ‰åœ¨ç¼–è¯‘æœŸé—´èƒ½ç¡®åˆ‡çŸ¥é“finalå˜é‡å€¼çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨æ‰ä¼šè¿›è¡Œè¿™æ ·çš„ä¼˜åŒ–ã€‚

```java
public class A {
    public static void main(String[] args) {
        String a = "123";
        String b = "12";
        final String c = getC();

        String x = b + "3";
        String y = c + "3";
        System.out.println(a == y); //false
        System.out.println(a == x); //false
        //ä¸è¦ä»¥ä¸ºæŸäº›æ•°æ®æ˜¯finalå°±å¯ä»¥åœ¨ç¼–è¯‘æœŸçŸ¥é“å…¶å€¼ï¼Œé€šè¿‡å˜é‡cæˆ‘ä»¬å°±çŸ¥é“äº†ï¼Œåœ¨è¿™é‡Œæ˜¯ä½¿ç”¨getC()æ–¹æ³•å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œä»–è¦åœ¨è¿è¡ŒæœŸæ‰èƒ½çŸ¥é“å…¶å€¼ã€‚
    }

    static String getC() {
        return "12";
    }
}
```

