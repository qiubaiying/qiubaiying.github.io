---
layout: post
title: Javaä¸­çš„é›†åˆä½“ç³»
subtitle: è¿™ä¸ªä¹Ÿæ˜¯ä¸ªåŸºç¡€é¸­ğŸ˜ğŸ˜ğŸ˜
date: 2019-02-20
author: åä»”
header-img: img/post-bg-debug.png
catalog: true
tags:
    - Java
    - åŸºç¡€çŸ¥è¯†
---

## é›†åˆä½“ç³»



- **Collection**(interface)
  - **Set**(interface)
    - **HashSet**(class): extends *AbstractSet*(abstract class),implements *Set*(interface)
    	- **LinkedHashSet**(class):extends ***HashSet***(class),implements *Set*(interface)
    - **TreeSet**(class): extends *AbstractSet*(abstract class),implements *NavigableSet*(interface)
  - **List**(interface)
    - **ArrayList**(class):extends *AbstractList*(abstract class),implements *List*(interface)
    - **Vector**(class):extends *AbstractList*(abstract class),implements *List*(interface)
    - **LinkedList**(class):extends *AbstractSequentialList*(abstract class),implements *List*(interface),Deque(Queueçš„å­æ¥å£)
  - **Queue**(interface):é˜Ÿåˆ—æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨,FIFOçš„æ•°æ®ç»“æ„
    - **PriorityQueue**(class):extends *AbstractQueue*
- **Map**(interface)
  - **HashMap**(class):extends *AbstractMap*(abstract class),implements *Map*(interface)
  	- **LinkedHashMap**(class):extends ***HashMap***(class),implements *Map*(interface)
  - **HashTable**(class):extends *Dictionary*(abstract class),implements *Map*(interface)
  - **TreeMap**(class):extends *AbstractMap*(abstract class),implements *NavigableMap*(interface)

![é›†åˆä½“ç³»](http://blog-ipic.yananhuazai.cn/Fr2ukTsPAGkj8WCGO1QSSfAXvzn3)



## Collectionæ¥å£

- ### Setæ¥å£

```java
public class TreeSetExample {
    public static void main(String[] args) {
        User user1 = new User("zhangsan",18);
        User user2 = new User("lisi",18);
        User user3 = new User("lisi",20);
        User user4 = new User("lisi",20);
        User user5 = new User("wangwu",26);
        User user6 = new User("zhaoliu",15);

        TreeSet<User> treeSet = new TreeSet<>();
        treeSet.add(user1);
        treeSet.add(user2);
        treeSet.add(user3);
        treeSet.add(user4);
        treeSet.add(user5);
        treeSet.add(user6);

        for (User user : treeSet) {
            System.out.println(user);
        }
    }
}
class User {
    private String name;
    private Integer age;

    public User(String name, Integer age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "User{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
```

è¿è¡Œç»“æœ:

```java
Exception in thread "main" java.lang.ClassCastException: cn.huazai.main.collection_interface.User cannot be cast to java.lang.Comparable
	at java.util.TreeMap.compare(TreeMap.java:1294)
	at java.util.TreeMap.put(TreeMap.java:538)
	at java.util.TreeSet.add(TreeSet.java:255)
	at cn.huazai.main.collection_interface.TreeSetExample.main(TreeSetExample.java:21)
```

ä¿®æ”¹å:

```java
public class TreeSetExample {
    public static void main(String[] args) {
        User user1 = new User("zhangsan",18);
        User user2 = new User("lisi",18);
        User user3 = new User("lisi",20);
        User user4 = new User("lisi",20);
        User user5 = new User("wangwu",26);
        User user6 = new User("zhaoliu",15);
        User user7 = new User("zhangsan",14);

        TreeSet<User> treeSet = new TreeSet<>();
        treeSet.add(user1);
        treeSet.add(user2);
        treeSet.add(user3);
        treeSet.add(user4);
        treeSet.add(user5);
        treeSet.add(user6);
        treeSet.add(user7);

        for (User user : treeSet) {
            System.out.println(user);
        }
    }
}
class User implements Comparable<User> {
    private String name;
    private Integer age;

    public User(String name, Integer age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "User{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }

    @Override
    public int compareTo(User u) {
        //return -1; //è¡¨ç¤ºæ”¾åœ¨çº¢é»‘æ ‘å·¦è¾¹ å€’åºè¾“å‡º LIFO(åè¿›å…ˆå‡º)
        //return 1; //è¡¨ç¤ºæ”¾åœ¨çº¢é»‘æ ‘å³è¾¹ é¡ºåºè¾“å‡º FIFO(å…ˆè¿›å…ˆå‡º)
        //return 0; //è¡¨ç¤ºå…ƒç´ ç›¸åŒ,å¿½ç•¥,ä¸å­˜å…¥

        //å§“åçš„é•¿åº¦,å¦‚æœå§“åé•¿åº¦å°çš„å°±æ”¾åœ¨å·¦å­æ ‘ï¼Œå¦åˆ™æ”¾åœ¨å³å­æ ‘
        int num = this.name.length() - u.name.length();
        //å§“åçš„é•¿åº¦ç›¸åŒï¼Œä¸ä»£è¡¨å†…å®¹ç›¸åŒ,å¦‚æœæŒ‰å­—å…¸é¡ºåºæ­¤ String å¯¹è±¡ä½äºå‚æ•°å­—ç¬¦ä¸²ä¹‹å‰ï¼Œåˆ™æ¯”è¾ƒç»“æœä¸ºä¸€ä¸ªè´Ÿæ•´æ•°ã€‚
        //å¦‚æœæŒ‰å­—å…¸é¡ºåºæ­¤ String å¯¹è±¡ä½äºå‚æ•°å­—ç¬¦ä¸²ä¹‹åï¼Œåˆ™æ¯”è¾ƒç»“æœä¸ºä¸€ä¸ªæ­£æ•´æ•°ã€‚
        //å¦‚æœè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œåˆ™ç»“æœä¸º 0
        int num1 = num == 0 ? this.name.compareTo(u.name) : num;
        //å§“åçš„é•¿åº¦å’Œå†…å®¹ç›¸åŒï¼Œä¸ä»£è¡¨å¹´é¾„ç›¸åŒï¼Œæ‰€ä»¥è¿˜è¦åˆ¤æ–­å¹´é¾„
        int num2 = num1 == 0 ? this.age - u.age : num1;
        System.out.println("this.name:"+this.name+",u.name:"+u.name+",num2:"+num2);
        return num2;
    }
}
```

æ‰§è¡Œç»“æœ:

```java
this.name:zhangsan,u.name:zhangsan,num2:0
this.name:lisi,u.name:zhangsan,num2:-4
this.name:lisi,u.name:zhangsan,num2:-4
this.name:lisi,u.name:lisi,num2:2
this.name:lisi,u.name:lisi,num2:0
this.name:wangwu,u.name:lisi,num2:2
this.name:wangwu,u.name:zhangsan,num2:-2
this.name:zhaoliu,u.name:lisi,num2:3
this.name:zhaoliu,u.name:zhangsan,num2:-1
this.name:zhaoliu,u.name:wangwu,num2:1
this.name:zhangsan,u.name:lisi,num2:4
this.name:zhangsan,u.name:zhaoliu,num2:1
this.name:zhangsan,u.name:zhangsan,num2:-4
User{name='lisi', age=18}
User{name='lisi', age=20}
User{name='wangwu', age=26}
User{name='zhaoliu', age=15}
User{name='zhangsan', age=14}
User{name='zhangsan', age=18}
```





- ### Listæ¥å£

- ### Queueæ¥å£

