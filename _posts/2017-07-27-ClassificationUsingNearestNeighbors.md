





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-77c3b874f32e71b14cded5a120f42f5c7288fa52e0a37f2d5919fbd8bcfca63c.css" integrity="sha256-d8O4dPMucbFM3tWhIPQvXHKI+lLgo38tWRn72Lz8pjw=" media="all" rel="stylesheet" />
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-eaf05126b77f9cbd80d9802241b7e454eb2cbfd2505aef5900ab5c21bf0eea02.css" integrity="sha256-6vBRJrd/nL2A2YAiQbfkVOssv9JQWu9ZAKtcIb8O6gI=" media="all" rel="stylesheet" />
  
  
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>jiayiwangjw.github.io/2017-06-14-TitanicCompetition.md at master · jiayiwangjw/jiayiwangjw.github.io</title>
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta content="https://avatars2.githubusercontent.com/u/11449922?v=4&amp;s=400" property="og:image" /><meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="jiayiwangjw/jiayiwangjw.github.io" property="og:title" /><meta content="https://github.com/jiayiwangjw/jiayiwangjw.github.io" property="og:url" /><meta content="jiayiwangjw.github.io - BY Blog -&gt;" property="og:description" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MTkxODI3NDU4OjUzMjVjYjY4MmQ1YmNjODgwZmVlN2ZkZTI1NTk0ZGI3MTlmZmM5YWQ2NzRmMTlkMGE3NDk4NTk5ZmY0M2UyMDM=--a1c68aad261285fa117f7bc89bb1eef024d0b1e0">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="F3A0:7122:29D9B3C:46912AA:5979DBC3" data-pjax-transient>
  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
<meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="https://collector.githubapp.com/github-external/browser_event" name="octolytics-event-url" /><meta content="F3A0:7122:29D9B3C:46912AA:5979DBC3" name="octolytics-dimension-request_id" /><meta content="iad" name="octolytics-dimension-region_edge" /><meta content="iad" name="octolytics-dimension-region_render" /><meta content="11449922" name="octolytics-actor-id" /><meta content="jiayiwangjw" name="octolytics-actor-login" /><meta content="29724273f9875de32dc620c64735a2e4177b2ee649c059fd536e535143e771e2" name="octolytics-actor-hash" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />




  <meta class="js-ga-set" name="dimension1" content="Logged In">


  

      <meta name="hostname" content="github.com">
  <meta name="user-login" content="jiayiwangjw">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="N2M0MjgyNjRjYWU2NjAxMmU2OTljNTE3YmQzMjQ2ZWVhNmE5ZGMwOTI1NmE5YzUyMDk4NjM3MWNhMWFlM2ZhMnx7InJlbW90ZV9hZGRyZXNzIjoiMTY5LjE0NS4xLjQyIiwicmVxdWVzdF9pZCI6IkYzQTA6NzEyMjoyOUQ5QjNDOjQ2OTEyQUE6NTk3OURCQzMiLCJ0aW1lc3RhbXAiOjE1MDExNTgzNDYsImhvc3QiOiJnaXRodWIuY29tIn0=">


  <meta name="html-safe-nonce" content="eccc7c59055e45920786532c336effbb140e0ee3">

  <meta http-equiv="x-pjax-version" content="3067718739d3a937d68880dc7ab01a23">
  

      <link href="https://github.com/jiayiwangjw/jiayiwangjw.github.io/commits/master.atom" rel="alternate" title="Recent Commits to jiayiwangjw.github.io:master" type="application/atom+xml">

  <meta name="description" content="jiayiwangjw.github.io - BY Blog -&gt;">
  <meta name="go-import" content="github.com/jiayiwangjw/jiayiwangjw.github.io git https://github.com/jiayiwangjw/jiayiwangjw.github.io.git">

  <meta content="11449922" name="octolytics-dimension-user_id" /><meta content="jiayiwangjw" name="octolytics-dimension-user_login" /><meta content="94008626" name="octolytics-dimension-repository_id" /><meta content="jiayiwangjw/jiayiwangjw.github.io" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="true" name="octolytics-dimension-repository_is_fork" /><meta content="81545439" name="octolytics-dimension-repository_parent_id" /><meta content="qiubaiying/qiubaiying.github.io" name="octolytics-dimension-repository_parent_nwo" /><meta content="81545439" name="octolytics-dimension-repository_network_root_id" /><meta content="qiubaiying/qiubaiying.github.io" name="octolytics-dimension-repository_network_root_nwo" /><meta content="false" name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" />


    <link rel="canonical" href="https://github.com/jiayiwangjw/jiayiwangjw.github.io/blob/master/_posts/2017-06-14-TitanicCompetition.md" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

  </head>

  <body class="logged-in env-production page-blob">
    



  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="bg-black text-white p-3 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        
<div class="header" role="banner">
  <div class="container-lg px-3 clearfix">
    <div class="d-flex flex-justify-between">
      <div class="d-flex">
        <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>


            <div class="mr-2">
              <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/jiayiwangjw/jiayiwangjw.github.io/search" class="js-site-search-form" data-scoped-search-url="/jiayiwangjw/jiayiwangjw.github.io/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
        <a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/_posts/2017-06-14-TitanicCompetition.md" class="header-search-scope no-underline">This repository</a>
      <input type="text"
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off">
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

            </div>

          <ul class="d-flex list-style-none" role="navigation">
            <li>
              <a href="/pulls" aria-label="Pull requests you created" class="js-selected-navigation-item header-navlink" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
                Pull requests
</a>            </li>
            <li>
              <a href="/issues" aria-label="Issues you created" class="js-selected-navigation-item header-navlink" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
                Issues
</a>            </li>
                <li>
                  <a href="/marketplace" class="js-selected-navigation-item header-navlink" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-selected-links=" /marketplace">
                    Marketplace
</a>                </li>
              <li>
                <a class="header-navlink" href="https://gist.github.com/" data-ga-click="Header, go to gist, text:gist">Gist</a>
              </li>
          </ul>
      </div>

      <div class="d-flex">
        
<ul class="d-flex user-nav list-style-none" id="user-links">
  <li>
    
    <a href="/notifications" aria-label="You have no unread notifications" class="header-navlink notification-indicator tooltipped tooltipped-s js-socket-channel js-notification-indicator " data-channel="notification-changed:11449922" data-ga-click="Header, go to notifications, icon:read" data-hotkey="g n">
        <span class="mail-status "></span>
        <svg aria-hidden="true" class="octicon octicon-bell" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 12v1H0v-1l.73-.58c.77-.77.81-2.55 1.19-4.42C2.69 3.23 6 2 6 2c0-.55.45-1 1-1s1 .45 1 1c0 0 3.39 1.23 4.16 5 .38 1.88.42 3.66 1.19 4.42l.66.58H14zm-7 4c1.11 0 2-.89 2-2H5c0 1.11.89 2 2 2z"/></svg>
</a>
  </li>

  <li class="dropdown js-menu-container">
    <a class="header-navlink tooltipped tooltipped-s js-menu-target" href="/new"
       aria-label="Create new…"
       aria-expanded="false"
       aria-haspopup="true"
       data-ga-click="Header, create new, icon:add">
      <svg aria-hidden="true" class="octicon octicon-plus float-left" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5z"/></svg>
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>




      </ul>
    </div>
  </li>

  <li class="dropdown js-menu-container">
    <a class="header-navlink name tooltipped tooltipped-sw js-menu-target" href="/jiayiwangjw"
       aria-label="View profile and more"
       aria-expanded="false"
       aria-haspopup="true"
       data-ga-click="Header, show menu, icon:avatar">
      <img alt="@jiayiwangjw" class="avatar" src="https://avatars1.githubusercontent.com/u/11449922?v=4&amp;s=40" height="20" width="20">
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <div class="dropdown-menu dropdown-menu-sw">
        <div class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">jiayiwangjw</strong>
        </div>

        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="/jiayiwangjw" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a>
        <a class="dropdown-item" href="/jiayiwangjw?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a>
        <a class="dropdown-item" href="/explore" data-ga-click="Header, go to explore, text:explore">
          Explore
        </a>
        <a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a>

        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a>

        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="FscEIucaBuf5UGZXu4WwQNsyzteVWXZWkITms/gtdBaVOzHZUk2Q3CIYVCB9jYuK0HrzrNt8lVOYF2s8WGTv9A==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </li>
</ul>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="sr-only right-0" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="lVp0F2lqF55PstwD/wqIFiRIF94L9LLqpqe3qZqJca4WpkHs3D2BpZT67nQ5ArPcLwAqpUXRUe+uNDomOsDqTA==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </div>
</div>


      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode">
    <div id="js-repo-pjax-container" data-pjax-container>
      




    <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
      <div class="container repohead-details-container">

        <ul class="pagehead-actions">
  <li>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="1rmn1tvu16789iPqA/15qI2QIVnWVz4liY47SptVPWxILOgAt96cQTmRdf2nbHkucULWH1anNEM18jqaP3j4Kg==" /></div>      <input class="form-control" id="repository_id" name="repository_id" type="hidden" value="94008626" />

        <div class="select-menu js-menu-container js-select-menu">
          <a href="/jiayiwangjw/jiayiwangjw.github.io/subscription"
            class="btn btn-sm btn-with-count select-menu-button js-menu-target"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Toggle repository notifications menu"
            data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
                <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                Unwatch
            </span>
          </a>
            <a class="social-count js-social-count"
              href="/jiayiwangjw/jiayiwangjw.github.io/watchers"
              aria-label="1 user is watching this repository">
              1
            </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_included" name="do" type="radio" value="included" />
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input checked="checked" id="do_subscribed" name="do" type="radio" value="subscribed" />
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                        Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_ignore" name="do" type="radio" value="ignore" />
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-mute" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"/></svg>
                        Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/jiayiwangjw/jiayiwangjw.github.io/unstar" class="starred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="TtWC1suHmZkJ0455pHHrLNzEla/GIAIlkodHayfX8MDuDEa8rLvqQCJnd+nRbEPz2VP1/jv8Pi95Lk1ViO0Kkg==" /></div>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar jiayiwangjw/jiayiwangjw.github.io"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/jiayiwangjw/jiayiwangjw.github.io/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/jiayiwangjw/jiayiwangjw.github.io/star" class="unstarred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="iZfkTZpM0cduZvUmERuXtZLg2XuV+hgfC7f137KuQ4uTksNbtsHYBh91JvoLTj0GQtUpAateIZ98OYMPB2vvYA==" /></div>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star jiayiwangjw/jiayiwangjw.github.io"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="/jiayiwangjw/jiayiwangjw.github.io/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>  </div>

  </li>

  <li>
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/jiayiwangjw/jiayiwangjw.github.io/fork" class="btn-with-count" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="RgdBwGJLOb3nULJuOvsKELyZXAItFLgl1MT76JtSYhy+TCaqfurMWeh+XW8UDz2r2hE5b3jivY0/a+3NCMrF7A==" /></div>
            <button
                type="submit"
                class="btn btn-sm btn-with-count"
                data-ga-click="Repository, show fork modal, action:blob#show; text:Fork"
                title="Fork your own copy of jiayiwangjw/jiayiwangjw.github.io to your account"
                aria-label="Fork your own copy of jiayiwangjw/jiayiwangjw.github.io to your account">
              <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
              Fork
            </button>
</form>
    <a href="/jiayiwangjw/jiayiwangjw.github.io/network" class="social-count"
       aria-label="194 users forked this repository">
      194
    </a>
  </li>
</ul>

        <h1 class="public ">
  <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
  <span class="author" itemprop="author"><a href="/jiayiwangjw" class="url fn" rel="author">jiayiwangjw</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="/jiayiwangjw/jiayiwangjw.github.io" data-pjax="#js-repo-pjax-container">jiayiwangjw.github.io</a></strong>

    <span class="fork-flag">
      <span class="text">forked from <a href="/qiubaiying/qiubaiying.github.io">qiubaiying/qiubaiying.github.io</a></span>
    </span>
</h1>

      </div>
      <div class="container">
        
<nav class="reponav js-repo-nav js-sidenav-container-pjax"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/jiayiwangjw/jiayiwangjw.github.io" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /jiayiwangjw/jiayiwangjw.github.io" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>


  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/jiayiwangjw/jiayiwangjw.github.io/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /jiayiwangjw/jiayiwangjw.github.io/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a href="/jiayiwangjw/jiayiwangjw.github.io/projects" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /jiayiwangjw/jiayiwangjw.github.io/projects">
      <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>
    <a href="/jiayiwangjw/jiayiwangjw.github.io/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /jiayiwangjw/jiayiwangjw.github.io/wiki">
      <svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>
      <a href="/jiayiwangjw/jiayiwangjw.github.io/settings" class="js-selected-navigation-item reponav-item" data-selected-links="repo_settings repo_branch_settings hooks integration_installations /jiayiwangjw/jiayiwangjw.github.io/settings">
        <svg aria-hidden="true" class="octicon octicon-gear" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/></svg>
        Settings
</a>
    <div class="reponav-dropdown js-menu-container">
      <button type="button" class="btn-link reponav-item reponav-dropdown js-menu-target " data-no-toggle aria-expanded="false" aria-haspopup="true">
        Insights
        <svg aria-hidden="true" class="octicon octicon-triangle-down v-align-middle text-gray" height="11" version="1.1" viewBox="0 0 12 16" width="8"><path fill-rule="evenodd" d="M0 5l6 6 6-6z"/></svg>
      </button>
      <div class="dropdown-menu-content js-menu-content">
        <div class="dropdown-menu dropdown-menu-sw">
          <a class="dropdown-item" href="/jiayiwangjw/jiayiwangjw.github.io/pulse" data-skip-pjax>
            <svg aria-hidden="true" class="octicon octicon-pulse" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0v2h3.6l.9-1.8.9 5.4L9 8.5l1.6 1.5H14V8z"/></svg>
            Pulse
          </a>
          <a class="dropdown-item" href="/jiayiwangjw/jiayiwangjw.github.io/graphs" data-skip-pjax>
            <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
            Graphs
          </a>
        </div>
      </div>
    </div>
</nav>

      </div>
    </div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    
  <a href="/jiayiwangjw/jiayiwangjw.github.io/blob/2a8c366f8e9a2e4a37b9ad6e92d0de57c81023e4/_posts/2017-06-14-TitanicCompetition.md" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:7bfebd16edd77d78ea6601a1143a8dc9 -->

  <div class="file-navigation js-zeroclipboard-container">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Find or create a branch…" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Find or create a branch…">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Find or create a branch…" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/_posts/2017-06-14-TitanicCompetition.md"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
        </div>

          <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/jiayiwangjw/jiayiwangjw.github.io/branches" class="js-create-branch select-menu-item select-menu-new-item-form js-navigation-item js-new-item-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="LOX8qnuqnzo3S7GSsMQJ3l1a4Jj1njeO8oKLl5kGc3R7iZf/mbZB7L0X9db/SQpqQYUdq0lk8RdeYo1QIAjD4g==" /></div>
          <svg aria-hidden="true" class="octicon octicon-git-branch select-menu-item-icon" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
            <div class="select-menu-item-text">
              <span class="select-menu-item-heading">Create branch: <span class="js-new-item-name"></span></span>
              <span class="description">from ‘master’</span>
            </div>
            <input type="hidden" name="name" id="name" class="js-new-item-value">
            <input type="hidden" name="branch" id="branch" value="master">
            <input type="hidden" name="path" id="path" value="_posts/2017-06-14-TitanicCompetition.md">
</form>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/jiayiwangjw/jiayiwangjw.github.io/tree/v1.1/_posts/2017-06-14-TitanicCompetition.md"
              data-name="v1.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.1">
                v1.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/jiayiwangjw/jiayiwangjw.github.io/tree/v1.0/_posts/2017-06-14-TitanicCompetition.md"
              data-name="v1.0"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0">
                v1.0
              </span>
            </a>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/jiayiwangjw/jiayiwangjw.github.io/find/master"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
    </div>
    <div class="breadcrumb js-zeroclipboard-target">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="/jiayiwangjw/jiayiwangjw.github.io"><span>jiayiwangjw.github.io</span></a></span></span><span class="separator">/</span><span class="js-path-segment"><a href="/jiayiwangjw/jiayiwangjw.github.io/tree/master/_posts"><span>_posts</span></a></span><span class="separator">/</span><strong class="final-path">2017-06-14-TitanicCompetition.md</strong>
    </div>
  </div>


  
  <div class="commit-tease">
      <span class="float-right">
        <a class="commit-tease-sha" href="/jiayiwangjw/jiayiwangjw.github.io/commit/9d95561b65c1e02f1d63942f9e7e5dbd25369d91" data-pjax>
          9d95561
        </a>
        <relative-time datetime="2017-06-15T19:49:04Z">Jun 15, 2017</relative-time>
      </span>
      <div>
        <img alt="@jiayiwangjw" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/11449922?v=4&amp;s=40" width="20" />
        <a href="/jiayiwangjw" class="user-mention" rel="author">jiayiwangjw</a>
          <a href="/jiayiwangjw/jiayiwangjw.github.io/commit/9d95561b65c1e02f1d63942f9e7e5dbd25369d91" class="message" data-pjax="true" title="Create 2017-06-14-TitanicCompetition.md">Create 2017-06-14-TitanicCompetition.md</a>
      </div>

    <div class="commit-tease-contributors">
      <button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box">
        <strong>1</strong>
         contributor
      </button>
      
    </div>

    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list" data-facebox-id="facebox-description">
          <li class="facebox-user-list-item">
            <img alt="@jiayiwangjw" height="24" src="https://avatars3.githubusercontent.com/u/11449922?v=4&amp;s=48" width="24" />
            <a href="/jiayiwangjw">jiayiwangjw</a>
          </li>
      </ul>
    </div>
  </div>

  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a href="/jiayiwangjw/jiayiwangjw.github.io/raw/master/_posts/2017-06-14-TitanicCompetition.md" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>
        <a href="/jiayiwangjw/jiayiwangjw.github.io/blame/master/_posts/2017-06-14-TitanicCompetition.md" class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b">Blame</a>
      <a href="/jiayiwangjw/jiayiwangjw.github.io/commits/master/_posts/2017-06-14-TitanicCompetition.md" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>
    </div>

        <a class="btn-octicon tooltipped tooltipped-nw"
           href="github-windows://openRepo/https://github.com/jiayiwangjw/jiayiwangjw.github.io?branch=master&amp;filepath=_posts%2F2017-06-14-TitanicCompetition.md"
           aria-label="Open this file in GitHub Desktop"
           data-ga-click="Repository, open with desktop, type:windows">
            <svg aria-hidden="true" class="octicon octicon-device-desktop" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z"/></svg>
        </a>

        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/jiayiwangjw/jiayiwangjw.github.io/edit/master/_posts/2017-06-14-TitanicCompetition.md" class="inline-form js-update-url-with-hash" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="DaZ3R0yTLjhE1UCHG2Ei++peZyQF2wYzDRXGR2dAI5RsBLk6WR3MiFVzuShA6XmLdHTD+LOpvsTExcAS0msJwg==" /></div>
          <button class="btn-octicon tooltipped tooltipped-nw" type="submit"
            aria-label="Edit this file" data-hotkey="e" data-disable-with>
            <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
          </button>
</form>        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/jiayiwangjw/jiayiwangjw.github.io/delete/master/_posts/2017-06-14-TitanicCompetition.md" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="f/RgIEuv/pj0O1N/MNuyQpdtimdHD3B0YPVnVrpSpN+5zR1Yz70Rwzt6MS/qJvsLO/VA290ghKqs2GQd9z2c2Q==" /></div>
          <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
            aria-label="Delete this file" data-disable-with>
            <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
          </button>
</form>  </div>

  <div class="file-info">
      567 lines (488 sloc)
      <span class="file-info-divider"></span>
    19.9 KB
  </div>
</div>

    
  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><table data-table-type="yaml-metadata">
  <thead>
  <tr>
  <th>layout</th>

  <th>title</th>

  <th>subtitle</th>

  <th>date</th>

  <th>author</th>

  <th>header-img</th>

  <th>catalog</th>

  <th>tags</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td><div>post</div></td>

  <td><div>Titanic Machine Learning from Disaster</div></td>

  <td><div>Start here! Predict survival on the Titanic and get familiar with ML basics</div></td>

  <td><div>2017-06-15</div></td>

  <td><div>Jiayi</div></td>

  <td><div>img/titanic01.jpg</div></td>

  <td><div>true</div></td>

  <td><div><table>
  <tbody>
  <tr>
  <td><div>R</div></td>

  <td><div>Kaggle</div></td>
  </tr>
  </tbody>
</table></div></td>
  </tr>
  </tbody>
</table>

<h3><a id="user-content-preface-this-is-the-competition-of-titanic-machine-learning-from-kaggle" class="anchor" href="#preface-this-is-the-competition-of-titanic-machine-learning-from-kaggle" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Preface: This is the <a href="https://www.kaggle.com/c/titanic">competition of Titanic Machine Learning</a> from <a href="https://www.kaggle.com">Kaggle</a></h3>
<p>The sinking of the RMS Titanic is one of the most infamous shipwrecks in history.  On April 15, 1912, during her maiden voyage, the Titanic sank after colliding with an iceberg, killing 1502 out of 2224 passengers and crew. This sensational tragedy shocked the international community and led to better safety regulations for ships.</p>
<p>In this challenge, we ask you to complete the analysis of what sorts of people were likely to survive. In particular, we ask you to apply the tools of machine learning to predict which passengers survived the tragedy.</p>
<h3><a id="user-content-1-get-the-dataset" class="anchor" href="#1-get-the-dataset" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Get the dataset</h3>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">train</span> <span class="pl-k">&lt;-</span> read.csv(<span class="pl-s"><span class="pl-pds">"</span>train.csv<span class="pl-pds">"</span></span>)
    <span class="pl-smi">test</span> <span class="pl-k">&lt;-</span> read.csv(<span class="pl-s"><span class="pl-pds">"</span>test.csv<span class="pl-pds">"</span></span>)
    library(<span class="pl-smi">dplyr</span>)
    <span class="pl-smi">full</span> <span class="pl-k">&lt;-</span> bind_rows(<span class="pl-smi">train</span>, <span class="pl-smi">test</span>)</pre></div>
<h3><a id="user-content-2-explore-the-data" class="anchor" href="#2-explore-the-data" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Explore the data</h3>
<div class="highlight highlight-source-r"><pre>    head(<span class="pl-smi">full</span>)</pre></div>
<pre><code>##   PassengerId Survived Pclass
## 1           1        0      3
## 2           2        1      1
## 3           3        1      3
## 4           4        1      1
## 5           5        0      3
## 6           6        0      3
##                                                  Name    Sex Age SibSp
## 1                             Braund, Mr. Owen Harris   male  22     1
## 2 Cumings, Mrs. John Bradley (Florence Briggs Thayer) female  38     1
## 3                              Heikkinen, Miss. Laina female  26     0
## 4        Futrelle, Mrs. Jacques Heath (Lily May Peel) female  35     1
## 5                            Allen, Mr. William Henry   male  35     0
## 6                                    Moran, Mr. James   male  NA     0
##   Parch           Ticket    Fare Cabin Embarked
## 1     0        A/5 21171  7.2500              S
## 2     0         PC 17599 71.2833   C85        C
## 3     0 STON/O2. 3101282  7.9250              S
## 4     0           113803 53.1000  C123        S
## 5     0           373450  8.0500              S
## 6     0           330877  8.4583              Q
</code></pre>
<div class="highlight highlight-source-r"><pre>    summary(<span class="pl-smi">full</span>)</pre></div>
<pre><code>##   PassengerId      Survived          Pclass          Name          
##  Min.   :   1   Min.   :0.0000   Min.   :1.000   Length:1309       
##  1st Qu.: 328   1st Qu.:0.0000   1st Qu.:2.000   Class :character  
##  Median : 655   Median :0.0000   Median :3.000   Mode  :character  
##  Mean   : 655   Mean   :0.3838   Mean   :2.295                     
##  3rd Qu.: 982   3rd Qu.:1.0000   3rd Qu.:3.000                     
##  Max.   :1309   Max.   :1.0000   Max.   :3.000                     
##                 NA's   :418                                        
##      Sex           Age            SibSp            Parch      
##  female:466   Min.   : 0.17   Min.   :0.0000   Min.   :0.000  
##  male  :843   1st Qu.:21.00   1st Qu.:0.0000   1st Qu.:0.000  
##               Median :28.00   Median :0.0000   Median :0.000  
##               Mean   :29.88   Mean   :0.4989   Mean   :0.385  
##               3rd Qu.:39.00   3rd Qu.:1.0000   3rd Qu.:0.000  
##               Max.   :80.00   Max.   :8.0000   Max.   :9.000  
##               NA's   :263                                     
##     Ticket               Fare            Cabin          
##  Length:1309        Min.   :  0.000   Length:1309       
##  Class :character   1st Qu.:  7.896   Class :character  
##  Mode  :character   Median : 14.454   Mode  :character  
##                     Mean   : 33.295                     
##                     3rd Qu.: 31.275                     
##                     Max.   :512.329                     
##                     NA's   :1                           
##    Embarked        
##  Length:1309       
##  Class :character  
##  Mode  :character  
##                    
##                    
##                    
## 
</code></pre>
<ul>
<li>Survived: 1 is survived, 0 is dead</li>
<li>Pclass:class level, 1 is first-class, 2 is intermediate, 3 is
economy</li>
<li>Name:name of passenger</li>
<li>Sex:gender</li>
<li>Age: age</li>
<li>SibSp:number of sibling and partner</li>
<li>Parch:number of parents or children</li>
<li>Ticket:ticket serial number</li>
<li>Fare:ticket price</li>
<li>Cabin:cabin gate</li>
<li>Embarked:embarked gate</li>
</ul>
<h3><a id="user-content-3-verify-the-missing-number-for-each-variable" class="anchor" href="#3-verify-the-missing-number-for-each-variable" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Verify the missing number for each variable</h3>
<div class="highlight highlight-source-r"><pre>    sapply(<span class="pl-smi">full</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) sum(is.na(<span class="pl-smi">x</span>)))     </pre></div>
<pre><code>## PassengerId    Survived      Pclass        Name         Sex         Age 
##           0         418           0           0           0         263 
##       SibSp       Parch      Ticket        Fare       Cabin    Embarked 
##           0           0           0           1           0           0

sapply(full,function(x) sum(x==''))

## PassengerId    Survived      Pclass        Name         Sex         Age 
##           0          NA           0           0           0          NA 
##       SibSp       Parch      Ticket        Fare       Cabin    Embarked 
##           0           0           0          NA        1014           2
</code></pre>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Missing data</th>
</tr>
</thead>
<tbody>
<tr>
<td>survived</td>
<td>418</td>
</tr>
<tr>
<td>age</td>
<td>263</td>
</tr>
<tr>
<td>fare</td>
<td>1</td>
</tr>
<tr>
<td>Cabin</td>
<td>1024</td>
</tr>
<tr>
<td>Embarked</td>
<td>2</td>
</tr>
</tbody>
</table>
<ul>
<li>we can ignore the missing data in "survived" since it is caused by
testing data.</li>
<li>not add missing data in cabin due to lack of methodology</li>
</ul>
<h4><a id="user-content-31add-missing-data-in-embarked" class="anchor" href="#31add-missing-data-in-embarked" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.1.Add missing data in "Embarked"</h4>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">embarked.na</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Embarked</span>
    which(<span class="pl-smi">embarked.na</span> <span class="pl-k">%in%</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)</pre></div>
<pre><code>## [1]  62 830
</code></pre>
<div class="highlight highlight-source-r"><pre>    <span class="pl-c"><span class="pl-c">#</span>Find out the blank value, we locate 62 and 830</span>
    <span class="pl-smi">full_62</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">PassengerId</span><span class="pl-k">==</span><span class="pl-c1">62</span>,]
    <span class="pl-smi">full_62</span></pre></div>
<pre><code>##    PassengerId Survived Pclass                Name    Sex Age SibSp Parch
## 62          62        1      1 Icard, Miss. Amelie female  38     0     0
##    Ticket Fare Cabin Embarked
## 62 113572   80   B28
</code></pre>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full_830</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">PassengerId</span><span class="pl-k">==</span><span class="pl-c1">830</span>,]
    <span class="pl-smi">full_830</span></pre></div>
<pre><code>##     PassengerId Survived Pclass                                      Name
## 830         830        1      1 Stone, Mrs. George Nelson (Martha Evelyn)
##        Sex Age SibSp Parch Ticket Fare Cabin Embarked
## 830 female  62     0     0 113572   80   B28
</code></pre>
<div class="highlight highlight-source-r"><pre>    library(<span class="pl-smi">ggplot2</span>)
    library(<span class="pl-smi">scales</span>)
    library(<span class="pl-smi">ggthemes</span>)
    <span class="pl-smi">embark_fare</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span> %<span class="pl-k">&gt;</span>% filter(<span class="pl-smi">PassengerId</span> <span class="pl-k">!=</span><span class="pl-c1">62</span> <span class="pl-k">&amp;</span> <span class="pl-smi">PassengerId</span> <span class="pl-k">!=</span><span class="pl-c1">830</span>)
    ggplot(<span class="pl-smi">embark_fare</span>, aes(<span class="pl-v">x</span><span class="pl-k">=</span><span class="pl-smi">Embarked</span>, <span class="pl-v">y</span><span class="pl-k">=</span><span class="pl-smi">Fare</span>, <span class="pl-v">fill</span><span class="pl-k">=</span><span class="pl-k">factor</span>(<span class="pl-smi">Pclass</span>)))<span class="pl-k">+</span>geom_boxplot()<span class="pl-k">+</span>geom_hline(aes(<span class="pl-v">yintercept</span><span class="pl-k">=</span><span class="pl-c1">80</span>), <span class="pl-v">colour</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>red<span class="pl-pds">'</span></span>, <span class="pl-v">linetype</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>dashed<span class="pl-pds">'</span></span>,<span class="pl-v">lwd</span><span class="pl-k">=</span><span class="pl-c1">2</span>)<span class="pl-k">+</span>scale_y_continuous(<span class="pl-v">labels</span><span class="pl-k">=</span>dollar_format())<span class="pl-k">+</span>theme_few()<span class="pl-k">+</span>ggtitle(<span class="pl-s"><span class="pl-pds">'</span>the embarkment by passenger class and median fare<span class="pl-pds">'</span></span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-4-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-4-1.png" alt="png" style="max-width:100%;"></a></p>
<p>add "C" to blank value</p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Embarked</span>[c(<span class="pl-c1">62</span>, <span class="pl-c1">830</span>)] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>C<span class="pl-pds">'</span></span>
    sapply(<span class="pl-smi">full</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) sum(<span class="pl-smi">x</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>))</pre></div>
<pre><code>## PassengerId    Survived      Pclass        Name         Sex         Age 
##           0          NA           0           0           0          NA 
##       SibSp       Parch      Ticket        Fare       Cabin    Embarked 
##           0           0           0          NA        1014           0
</code></pre>
<h4><a id="user-content-32-add-missing-data-in-fare" class="anchor" href="#32-add-missing-data-in-fare" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.2 Add missing data in "Fare"</h4>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">Fare.na</span> <span class="pl-k">&lt;-</span> is.na(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare</span>)
    which(<span class="pl-smi">Fare.na</span> <span class="pl-k">%in%</span> <span class="pl-c1">TRUE</span>)</pre></div>
<pre><code>## [1] 1044
</code></pre>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span>[<span class="pl-c1">1044</span>,]</pre></div>
<pre><code>##      PassengerId Survived Pclass               Name  Sex  Age SibSp Parch
## 1044        1044       NA      3 Storey, Mr. Thomas male 60.5     0     0
##      Ticket Fare Cabin Embarked
## 1044   3701   NA              S
</code></pre>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full_fare</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Pclass</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">'</span>3<span class="pl-pds">'</span></span><span class="pl-k">&amp;</span><span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Embarked</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">'</span>S<span class="pl-pds">'</span></span>, ]
    
    ggplot(<span class="pl-smi">full_fare</span>, aes(<span class="pl-v">x</span><span class="pl-k">=</span><span class="pl-smi">Fare</span>))<span class="pl-k">+</span>geom_density(<span class="pl-v">fill</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>skyblue<span class="pl-pds">'</span></span>,<span class="pl-v">alpha</span><span class="pl-k">=</span><span class="pl-c1">0.4</span>)<span class="pl-k">+</span>geom_vline(aes(<span class="pl-v">xintercept</span><span class="pl-k">=</span>median(<span class="pl-smi">Fare</span>,<span class="pl-v">na.rm</span><span class="pl-k">=</span><span class="pl-c1">T</span>)), <span class="pl-v">colour</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>red<span class="pl-pds">'</span></span>, <span class="pl-v">linetype</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>dashed<span class="pl-pds">'</span></span>,<span class="pl-v">lwd</span><span class="pl-k">=</span><span class="pl-c1">1</span>)<span class="pl-k">+</span>scale_y_continuous(<span class="pl-v">labels</span><span class="pl-k">=</span>dollar_format())<span class="pl-k">+</span>theme_few()<span class="pl-k">+</span>ggtitle(<span class="pl-s"><span class="pl-pds">'</span>the density of Fare<span class="pl-pds">'</span></span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-6-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-6-1.png" alt="png" style="max-width:100%;"></a></p>
<p>we can conclude that the passenger embarked at S and Pclass=3 paid $0-20. Then we can add the missing value with median</p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare</span>[<span class="pl-c1">1044</span>] <span class="pl-k">=</span> median(<span class="pl-smi">full_fare</span><span class="pl-k">$</span><span class="pl-smi">Fare</span>, <span class="pl-v">na.rm</span><span class="pl-k">=</span><span class="pl-c1">T</span>)</pre></div>
<h4><a id="user-content-33-add-missing-data-in-age" class="anchor" href="#33-add-missing-data-in-age" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.3 Add missing data in "Age"</h4>
<div class="highlight highlight-source-r"><pre>    set.seed(<span class="pl-c1">123</span>)
    library(<span class="pl-smi">mice</span>)

    <span class="pl-c"><span class="pl-c">#</span>delete the variables that are not necessary</span>
    <span class="pl-smi">A</span> <span class="pl-k">&lt;-</span> c(<span class="pl-s"><span class="pl-pds">'</span>PassengerId<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Ticket<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Cabin<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>family<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Surname<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Survived<span class="pl-pds">'</span></span>)
    <span class="pl-smi">mice_mod</span> <span class="pl-k">&lt;-</span> mice(<span class="pl-smi">full</span>[,<span class="pl-k">!</span>names(<span class="pl-smi">full</span>) <span class="pl-k">%in%</span> <span class="pl-smi">A</span>],<span class="pl-v">method</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>rf<span class="pl-pds">'</span></span>)</pre></div>
<pre><code>## 
##  iter imp variable
##   1   1  Age
##   1   2  Age
##   1   3  Age
##   1   4  Age
##   1   5  Age
##   2   1  Age
##   2   2  Age
##   2   3  Age
##   2   4  Age
##   2   5  Age
##   3   1  Age
##   3   2  Age
##   3   3  Age
##   3   4  Age
##   3   5  Age
##   4   1  Age
##   4   2  Age
##   4   3  Age
##   4   4  Age
##   4   5  Age
##   5   1  Age
##   5   2  Age
##   5   3  Age
##   5   4  Age
##   5   5  Age
</code></pre>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">mice_output</span> <span class="pl-k">&lt;-</span> complete(<span class="pl-smi">mice_mod</span>)</pre></div>
<p>compare the forecasting by MICE with original data</p>
<div class="highlight highlight-source-r"><pre>    par(<span class="pl-v">mfrow</span><span class="pl-k">=</span>c(<span class="pl-c1">1</span>,<span class="pl-c1">2</span>))
    hist(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Age</span>,<span class="pl-v">freq</span> <span class="pl-k">=</span> <span class="pl-c1">F</span>,<span class="pl-v">main</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Age:ORiginal Data<span class="pl-pds">'</span></span>,<span class="pl-v">col</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>darkblue<span class="pl-pds">'</span></span>,<span class="pl-v">ylim</span> <span class="pl-k">=</span> c(<span class="pl-c1">0</span>,<span class="pl-c1">0.04</span>))
    hist(<span class="pl-smi">mice_output</span><span class="pl-k">$</span><span class="pl-smi">Age</span>,<span class="pl-v">freq</span> <span class="pl-k">=</span> <span class="pl-c1">F</span>,<span class="pl-v">main</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Age:MICE Output<span class="pl-pds">'</span></span>,<span class="pl-v">col</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>skyblue<span class="pl-pds">'</span></span>,<span class="pl-v">ylim</span> <span class="pl-k">=</span> c(<span class="pl-c1">0</span>,<span class="pl-c1">0.04</span>))</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-9-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-9-1.png" alt="png" style="max-width:100%;"></a></p>
<p>We can use forecast to fill up the missing data since both are similar</p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Age</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">mice_output</span><span class="pl-k">$</span><span class="pl-smi">Age</span></pre></div>
<p>make sure there are no missing data</p>
<div class="highlight highlight-source-r"><pre>    sum(is.na(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Age</span>))</pre></div>
<pre><code>## [1] 0
</code></pre>
<div class="highlight highlight-source-r"><pre>    sum(is.na(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare</span>))</pre></div>
<pre><code>## [1] 0
</code></pre>
<h4><a id="user-content-34-drop-cabin-variable" class="anchor" href="#34-drop-cabin-variable" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.4 drop Cabin variable</h4>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">drops</span> <span class="pl-k">&lt;-</span> c(<span class="pl-s"><span class="pl-pds">"</span>Cabin<span class="pl-pds">"</span></span>)
    <span class="pl-v">full</span> <span class="pl-k">=</span> <span class="pl-smi">full</span>[ , <span class="pl-k">!</span>(names(<span class="pl-smi">full</span>) <span class="pl-k">%in%</span> <span class="pl-smi">drops</span>)]</pre></div>
<p>let us take a look at the final version of dataset</p>
<div class="highlight highlight-source-r"><pre>    summary(<span class="pl-smi">full</span>)</pre></div>
<pre><code>##   PassengerId      Survived          Pclass          Name          
##  Min.   :   1   Min.   :0.0000   Min.   :1.000   Length:1309       
##  1st Qu.: 328   1st Qu.:0.0000   1st Qu.:2.000   Class :character  
##  Median : 655   Median :0.0000   Median :3.000   Mode  :character  
##  Mean   : 655   Mean   :0.3838   Mean   :2.295                     
##  3rd Qu.: 982   3rd Qu.:1.0000   3rd Qu.:3.000                     
##  Max.   :1309   Max.   :1.0000   Max.   :3.000                     
##                 NA's   :418                                        
##      Sex           Age            SibSp            Parch      
##  female:466   Min.   : 0.17   Min.   :0.0000   Min.   :0.000  
##  male  :843   1st Qu.:21.00   1st Qu.:0.0000   1st Qu.:0.000  
##               Median :28.00   Median :0.0000   Median :0.000  
##               Mean   :30.25   Mean   :0.4989   Mean   :0.385  
##               3rd Qu.:39.00   3rd Qu.:1.0000   3rd Qu.:0.000  
##               Max.   :80.00   Max.   :8.0000   Max.   :9.000  
##                                                               
##     Ticket               Fare           Embarked        
##  Length:1309        Min.   :  0.000   Length:1309       
##  Class :character   1st Qu.:  7.896   Class :character  
##  Mode  :character   Median : 14.454   Mode  :character  
##                     Mean   : 33.276                     
##                     3rd Qu.: 31.275                     
##                     Max.   :512.329                     
## 
</code></pre>
<h3><a id="user-content-4-analyze-the-dataset" class="anchor" href="#4-analyze-the-dataset" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4 Analyze the dataset</h3>
<h4><a id="user-content-41-how-title-realtes-with-survival-rate" class="anchor" href="#41-how-title-realtes-with-survival-rate" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.1 how title realtes with survival rate.</h4>
<div class="highlight highlight-source-r"><pre>    library(<span class="pl-smi">stringr</span>)
    <span class="pl-c"><span class="pl-c">#</span>fecth the title</span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span> <span class="pl-k">&lt;-</span> gsub(<span class="pl-s"><span class="pl-pds">'</span>(.*, )|(<span class="pl-cce">\\</span>..*)<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Name</span>)

    <span class="pl-c"><span class="pl-c">#</span>check the category of name</span>
    table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Sex</span>, <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span>)</pre></div>
<pre><code>##         
##          Capt Col Don Dona  Dr Jonkheer Lady Major Master Miss Mlle Mme
##   female    0   0   0    1   1        0    1     0      0  260    2   1
##   male      1   4   1    0   7        1    0     2     61    0    0   0
##         
##           Mr Mrs  Ms Rev Sir the Countess
##   female   0 197   2   0   0            1
##   male   757   0   0   8   1            0
</code></pre>
<div class="highlight highlight-source-r"><pre>    <span class="pl-c"><span class="pl-c">#</span>combine the rare</span>
    <span class="pl-smi">rare_title</span> <span class="pl-k">&lt;-</span> c(<span class="pl-s"><span class="pl-pds">'</span>Capt<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Col<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Don<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Dona<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Dr<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Jonkheer<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Lady<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Major<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Rev<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>Sir<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>the Countess<span class="pl-pds">'</span></span>)

    <span class="pl-c"><span class="pl-c">#</span>regulate the title</span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">'</span>Mlle<span class="pl-pds">'</span></span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>Miss<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">'</span>Mme<span class="pl-pds">'</span></span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>Mrs<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">'</span>Ms<span class="pl-pds">'</span></span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>Miss<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span> <span class="pl-k">%in%</span> <span class="pl-smi">rare_title</span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>Rare title<span class="pl-pds">'</span></span>
    
    summary(<span class="pl-smi">full</span>)</pre></div>
<pre><code>##   PassengerId      Survived          Pclass          Name          
##  Min.   :   1   Min.   :0.0000   Min.   :1.000   Length:1309       
##  1st Qu.: 328   1st Qu.:0.0000   1st Qu.:2.000   Class :character  
##  Median : 655   Median :0.0000   Median :3.000   Mode  :character  
##  Mean   : 655   Mean   :0.3838   Mean   :2.295                     
##  3rd Qu.: 982   3rd Qu.:1.0000   3rd Qu.:3.000                     
##  Max.   :1309   Max.   :1.0000   Max.   :3.000                     
##                 NA's   :418                                        
##      Sex           Age            SibSp            Parch      
##  female:466   Min.   : 0.17   Min.   :0.0000   Min.   :0.000  
##  male  :843   1st Qu.:21.00   1st Qu.:0.0000   1st Qu.:0.000  
##               Median :28.00   Median :0.0000   Median :0.000  
##               Mean   :30.25   Mean   :0.4989   Mean   :0.385  
##               3rd Qu.:39.00   3rd Qu.:1.0000   3rd Qu.:0.000  
##               Max.   :80.00   Max.   :8.0000   Max.   :9.000  
##                                                               
##     Ticket               Fare           Embarked        
##  Length:1309        Min.   :  0.000   Length:1309       
##  Class :character   1st Qu.:  7.896   Class :character  
##  Mode  :character   Median : 14.454   Mode  :character  
##                     Mean   : 33.276                     
##                     3rd Qu.: 31.275                     
##                     Max.   :512.329                     
##                                                         
##     Title          
##  Length:1309       
##  Class :character  
##  Mode  :character  
##                    
##                    
##                    
## 
</code></pre>
<div class="highlight highlight-source-r"><pre>    <span class="pl-c"><span class="pl-c">#</span>check the category of name</span>
    table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Sex</span>, <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span>)</pre></div>
<pre><code>##         
##          Master Miss  Mr Mrs Rare title
##   female      0  264   0 198          4
##   male       61    0 757   0         25
</code></pre>
<p>compare the variables</p>
<div class="highlight highlight-source-r"><pre>    library(<span class="pl-smi">ggplot2</span>)
    ggplot(<span class="pl-smi">full</span>[<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">891</span>,], aes(<span class="pl-smi">Title</span>, <span class="pl-v">fill</span><span class="pl-k">=</span><span class="pl-k">factor</span>(<span class="pl-smi">Survived</span>)))<span class="pl-k">+</span>geom_bar()<span class="pl-k">+</span>facet_grid(.<span class="pl-k">~</span><span class="pl-smi">Sex</span>)<span class="pl-k">+</span>theme_few()<span class="pl-k">+</span>ggtitle(<span class="pl-s"><span class="pl-pds">'</span>The Survival by Title and Sex<span class="pl-pds">'</span></span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-15-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-15-1.png" alt="png" style="max-width:100%;"></a></p>
<p><strong>Obviously, "Miss", "Mrs" has significant survival rate. "Mr" has significant mortality</strong></p>
<h4><a id="user-content-42-how-sex-realtes-with-survival-rate" class="anchor" href="#42-how-sex-realtes-with-survival-rate" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.2 how sex realtes with survival rate.</h4>
<div class="highlight highlight-source-r"><pre>    mosaicplot(table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Sex</span>, <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Survived</span>), <span class="pl-v">main</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>survival by Sex<span class="pl-pds">'</span></span>, <span class="pl-v">shade</span><span class="pl-k">=</span><span class="pl-c1">T</span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-16-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-16-1.png" alt="png" style="max-width:100%;"></a></p>
<p><strong>Female has higher survival rate, but how about rate for those who are mother?</strong></p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">mother</span> <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>not mother<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">mother</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Sex</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>female<span class="pl-pds">'</span></span> <span class="pl-k">&amp;</span> <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Age</span><span class="pl-k">&gt;</span><span class="pl-c1">18</span> <span class="pl-k">&amp;</span> <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Parch</span><span class="pl-k">&gt;</span><span class="pl-c1">0</span> <span class="pl-k">&amp;</span> <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Title</span> <span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">'</span>Miss<span class="pl-pds">'</span></span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>mother<span class="pl-pds">'</span></span>
    mosaicplot(table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">mother</span>, <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Survived</span>), <span class="pl-v">main</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>survival by mother<span class="pl-pds">'</span></span>, <span class="pl-v">color</span><span class="pl-k">=</span>c(<span class="pl-s"><span class="pl-pds">'</span>skyblue<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>pink<span class="pl-pds">'</span></span>))</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-17-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-17-1.png" alt="png" style="max-width:100%;"></a></p>
<p><strong>mother has higher survival rate</strong></p>
<h4><a id="user-content-43-how-family-member-affects-the-survival-rate" class="anchor" href="#43-how-family-member-affects-the-survival-rate" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.3 how family member affects the survival rate</h4>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">familysize</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">SibSp</span><span class="pl-k">+</span><span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Parch</span><span class="pl-k">+</span><span class="pl-c1">1</span>

    <span class="pl-c"><span class="pl-c">#</span>fecth family name</span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Surname</span> <span class="pl-k">&lt;-</span> sapply(strsplit(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Name</span>,<span class="pl-v">split</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>[,.]<span class="pl-pds">'</span></span>),<span class="pl-s"><span class="pl-pds">'</span>[<span class="pl-pds">'</span></span>,<span class="pl-c1">1</span>)
    ggplot(<span class="pl-smi">full</span>[<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">891</span>,],aes(<span class="pl-v">x</span><span class="pl-k">=</span><span class="pl-smi">familysize</span>,<span class="pl-v">fill</span><span class="pl-k">=</span><span class="pl-k">factor</span>(<span class="pl-smi">Survived</span>)))<span class="pl-k">+</span>geom_bar(<span class="pl-v">stat</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>count<span class="pl-pds">'</span></span>,<span class="pl-v">position</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>dodge<span class="pl-pds">'</span></span>)<span class="pl-k">+</span>scale_x_continuous(<span class="pl-v">breaks</span> <span class="pl-k">=</span> c(<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">11</span>))<span class="pl-k">+</span>labs(<span class="pl-v">x</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>Family size<span class="pl-pds">'</span></span>)<span class="pl-k">+</span>theme_bw()<span class="pl-k">+</span>ggtitle(<span class="pl-s"><span class="pl-pds">"</span>Family size VS Survived<span class="pl-pds">"</span></span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-18-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-18-1.png" alt="png" style="max-width:100%;"></a></p>
<p><strong>higher survival rate for the family size 1-4</strong></p>
<p>categorize the family into bachelor, small and big</p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fsize</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">familysize</span><span class="pl-k">==</span><span class="pl-c1">1</span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>singleton<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fsize</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">familysize</span><span class="pl-k">&gt;</span><span class="pl-c1">1</span><span class="pl-k">&amp;</span><span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">familysize</span><span class="pl-k">&lt;</span><span class="pl-c1">5</span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>small family<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fsize</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">familysize</span><span class="pl-k">&gt;</span><span class="pl-k">=</span><span class="pl-c1">5</span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>big family<span class="pl-pds">'</span></span>

    mosaicplot(table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fsize</span>,<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Survived</span>),<span class="pl-v">main</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Family Size by Survival<span class="pl-pds">'</span></span>,<span class="pl-v">shade</span> <span class="pl-k">=</span> <span class="pl-c1">T</span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-19-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-19-1.png" alt="png" style="max-width:100%;"></a></p>
<p><strong>small family has higher survival rate</strong></p>
<h4><a id="user-content-44-how-age-affects-the-survival-rate" class="anchor" href="#44-how-age-affects-the-survival-rate" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.4 how age affects the survival rate</h4>
<div class="highlight highlight-source-r"><pre>    ggplot(<span class="pl-smi">full</span>[<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">891</span>,],aes(<span class="pl-smi">Age</span>,<span class="pl-v">fill</span><span class="pl-k">=</span><span class="pl-k">factor</span>(<span class="pl-smi">Survived</span>)))<span class="pl-k">+</span>geom_histogram()<span class="pl-k">+</span>facet_grid(.<span class="pl-k">~</span><span class="pl-smi">Sex</span>)<span class="pl-k">+</span>theme_few()<span class="pl-k">+</span>ggtitle(<span class="pl-s"><span class="pl-pds">'</span>The Survival by Age and Sex<span class="pl-pds">'</span></span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-20-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-20-1.png" alt="png" style="max-width:100%;"></a></p>
<p><strong>age 0-20 has higher survival rate regardless of gender</strong></p>
<p>categorize age into child and adult</p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">child</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Age</span> <span class="pl-k">&lt;</span> <span class="pl-c1">18</span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>child<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">child</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Age</span> <span class="pl-k">&gt;</span><span class="pl-k">=</span> <span class="pl-c1">18</span>] <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">'</span>adult<span class="pl-pds">'</span></span>
    table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">child</span>,<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Survived</span>)</pre></div>
<pre><code>##        
##           0   1
##   adult 489 275
##   child  60  67
</code></pre>
<div class="highlight highlight-source-r"><pre>    mosaicplot(table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">child</span>,<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Survived</span>),<span class="pl-v">main</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>The Survival by Age<span class="pl-pds">'</span></span>,<span class="pl-v">shade</span> <span class="pl-k">=</span> <span class="pl-c1">T</span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-21-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-21-1.png" alt="png" style="max-width:100%;"></a></p>
<p><strong>children has higher survival rate than adult</strong></p>
<h4><a id="user-content-45-how-ticket-price-affects-the-survival-rate" class="anchor" href="#45-how-ticket-price-affects-the-survival-rate" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.5 how ticket price affects the survival rate</h4>
<p>categorize price into low, middle, high</p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-v">Fare1</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>low<span class="pl-pds">"</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare1</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare</span><span class="pl-k">&gt;</span><span class="pl-k">=</span><span class="pl-c1">100</span> <span class="pl-k">&amp;</span> <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare</span> <span class="pl-k">&lt;</span><span class="pl-k">=</span><span class="pl-c1">300</span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>middle<span class="pl-pds">'</span></span>
    <span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare1</span>[<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare</span><span class="pl-k">&gt;</span><span class="pl-c1">300</span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>high<span class="pl-pds">'</span></span>

    mosaicplot(table(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare1</span>,<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Survived</span>),<span class="pl-v">main</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>The Survival by Ticket price<span class="pl-pds">'</span></span>,<span class="pl-v">shade</span> <span class="pl-k">=</span> <span class="pl-c1">T</span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-22-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-22-1.png" alt="png" style="max-width:100%;"></a></p>
<p>cheap ticket has lower survival rate. Cross check with the below</p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-en">rate_survived</span> <span class="pl-k">&lt;-</span> <span class="pl-k">function</span>(<span class="pl-smi">n</span>){
      <span class="pl-smi">full_rate</span> <span class="pl-k">&lt;-</span> xtabs(<span class="pl-k">~</span><span class="pl-smi">n</span><span class="pl-k">+</span><span class="pl-smi">Survived</span>,<span class="pl-v">data</span> <span class="pl-k">=</span> <span class="pl-smi">full</span>)
      <span class="pl-smi">rate</span> <span class="pl-k">&lt;-</span> prop.table(<span class="pl-smi">full_rate</span>,<span class="pl-c1">1</span>)
      <span class="pl-k">return</span>(<span class="pl-smi">rate</span>)
    }
    rate_survived(<span class="pl-smi">full</span><span class="pl-k">$</span><span class="pl-smi">Fare1</span>)</pre></div>
<pre><code>##         Survived
## n                0         1
##   high   0.0000000 1.0000000
##   low    0.6384248 0.3615752
##   middle 0.2800000 0.7200000
</code></pre>
<h3><a id="user-content-5-model-building" class="anchor" href="#5-model-building" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5 Model Building</h3>
<h4><a id="user-content-51-in-the-analysis-in-section-4-we-consider-pclassfareembarkedtitlesexfsizechild" class="anchor" href="#51-in-the-analysis-in-section-4-we-consider-pclassfareembarkedtitlesexfsizechild" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.1 In the analysis in section 4, we consider Pclass+Fare+Embarked+Title++Sex+Fsize+child</h4>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">train</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span>[<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">891</span>,]
    <span class="pl-smi">test</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">full</span>[<span class="pl-c1">892</span><span class="pl-k">:</span><span class="pl-c1">1309</span>,]</pre></div>
<div class="highlight highlight-source-r"><pre>    <span class="pl-c"><span class="pl-c">#</span>to avoid error msg of NA enforced in randomForest</span>
    <span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-v">Embarked</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-smi">Embarked</span>)
    <span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-v">Title</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-smi">Title</span>)
    <span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-v">Fsize</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-smi">Fsize</span>)
    <span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-v">child</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">train</span><span class="pl-k">$</span><span class="pl-smi">child</span>)

    <span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-v">Embarked</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-smi">Embarked</span>)
    <span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-v">Title</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-smi">Title</span>)
    <span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-v">Fsize</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-smi">Fsize</span>)
    <span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-v">child</span> <span class="pl-k">=</span> as.factor(<span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-smi">child</span>)</pre></div>
<div class="highlight highlight-source-r"><pre>    library(<span class="pl-smi">randomForest</span>)
    set.seed(<span class="pl-c1">754</span>)

    <span class="pl-smi">rf_mode</span> <span class="pl-k">&lt;-</span> randomForest(<span class="pl-k">factor</span>(<span class="pl-smi">Survived</span>)<span class="pl-k">~</span><span class="pl-smi">Pclass</span><span class="pl-k">+</span><span class="pl-smi">Fare</span><span class="pl-k">+</span><span class="pl-smi">Embarked</span><span class="pl-k">+</span><span class="pl-smi">Title</span><span class="pl-k">+</span><span class="pl-smi">Sex</span><span class="pl-k">+</span><span class="pl-smi">Fsize</span><span class="pl-k">+</span><span class="pl-smi">child</span>,<span class="pl-v">data</span> <span class="pl-k">=</span> <span class="pl-smi">train</span>)

    plot(<span class="pl-smi">rf_mode</span>,<span class="pl-v">ylim</span> <span class="pl-k">=</span> c(<span class="pl-c1">0</span>,<span class="pl-c1">0.36</span>))
    legend(<span class="pl-s"><span class="pl-pds">'</span>topright<span class="pl-pds">'</span></span>,colnames(<span class="pl-smi">rf_mode</span><span class="pl-k">$</span><span class="pl-smi">err.rate</span>),<span class="pl-v">col</span><span class="pl-k">=</span><span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">3</span>,<span class="pl-v">fill</span><span class="pl-k">=</span><span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">3</span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-24-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-24-1.png" alt="png" style="max-width:100%;"></a></p>
<p>error rate of mortality is 0.1, error rate of survival is 0.3. It means it it much easier to determine if the passenger is dead.</p>
<h4><a id="user-content-52-analyze-on-the-weigh-of-factor" class="anchor" href="#52-analyze-on-the-weigh-of-factor" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.2 analyze on the weigh of factor</h4>
<div class="highlight highlight-source-r"><pre>    <span class="pl-c"><span class="pl-c">#</span>fetch important factors</span>
    <span class="pl-smi">importance</span> <span class="pl-k">&lt;-</span> importance(<span class="pl-smi">rf_mode</span>)
    <span class="pl-smi">varImportance</span> <span class="pl-k">&lt;-</span> <span class="pl-k">data.frame</span>(<span class="pl-v">variables</span><span class="pl-k">=</span>row.names(<span class="pl-smi">importance</span>),<span class="pl-v">Importance</span><span class="pl-k">=</span>round(<span class="pl-smi">importance</span>[,<span class="pl-s"><span class="pl-pds">'</span>MeanDecreaseGini<span class="pl-pds">'</span></span>],<span class="pl-c1">2</span>))</pre></div>
<div class="highlight highlight-source-r"><pre>    <span class="pl-c"><span class="pl-c">#</span>##sort the variable by factors</span>
    library(<span class="pl-smi">dplyr</span>)
    <span class="pl-smi">rankImportance</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">varImportance</span> %<span class="pl-k">&gt;</span>% mutate(<span class="pl-v">Ranke</span><span class="pl-k">=</span>paste0(<span class="pl-s"><span class="pl-pds">'</span>#<span class="pl-pds">'</span></span>,dense_rank(desc(<span class="pl-smi">Importance</span>))))

    ggplot(<span class="pl-smi">rankImportance</span>,aes(<span class="pl-v">x</span><span class="pl-k">=</span>reorder(<span class="pl-smi">variables</span>,<span class="pl-smi">Importance</span>),<span class="pl-v">y</span><span class="pl-k">=</span><span class="pl-smi">Importance</span>,<span class="pl-v">fill</span><span class="pl-k">=</span><span class="pl-smi">Importance</span>))<span class="pl-k">+</span>   geom_bar(<span class="pl-v">stat</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>identity<span class="pl-pds">'</span></span>)<span class="pl-k">+</span>  geom_text(aes(<span class="pl-v">x</span><span class="pl-k">=</span><span class="pl-smi">variables</span>,<span class="pl-v">y</span><span class="pl-k">=</span><span class="pl-c1">0.5</span>,<span class="pl-v">label</span><span class="pl-k">=</span><span class="pl-smi">Ranke</span>),<span class="pl-v">hjust</span><span class="pl-k">=</span><span class="pl-c1">0</span>,<span class="pl-v">vjust</span><span class="pl-k">=</span><span class="pl-c1">0.55</span>,<span class="pl-v">size</span><span class="pl-k">=</span><span class="pl-c1">4</span>,<span class="pl-v">colour</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>red<span class="pl-pds">'</span></span>)<span class="pl-k">+</span>   labs(<span class="pl-v">x</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>Variables<span class="pl-pds">'</span></span>)<span class="pl-k">+</span>   coord_flip()<span class="pl-k">+</span>theme_few()<span class="pl-k">+</span>ggtitle(<span class="pl-s"><span class="pl-pds">'</span>The Importance of Variables<span class="pl-pds">'</span></span>)</pre></div>
<p><a href="/jiayiwangjw/jiayiwangjw.github.io/blob/master/img/titanic/unnamed-chunk-25-1.png" target="_blank"><img src="/jiayiwangjw/jiayiwangjw.github.io/raw/master/img/titanic/unnamed-chunk-25-1.png" alt="png" style="max-width:100%;"></a></p>
<p>the top 3 important factors are Title, Sex, Fare</p>
<p><strong>Predict</strong></p>
<div class="highlight highlight-source-r"><pre>    <span class="pl-smi">prediction</span> <span class="pl-k">&lt;-</span> predict(<span class="pl-smi">rf_mode</span>,<span class="pl-smi">test</span>)

    <span class="pl-smi">solution</span> <span class="pl-k">&lt;-</span> <span class="pl-k">data.frame</span>(<span class="pl-v">PassengerId</span><span class="pl-k">=</span><span class="pl-smi">test</span><span class="pl-k">$</span><span class="pl-smi">PassengerId</span>,<span class="pl-v">Survived</span><span class="pl-k">=</span><span class="pl-smi">prediction</span>)

    <span class="pl-c"><span class="pl-c">#</span> write.csv(solution,file='solution',row.names=F)</span></pre></div>
</article>
  </div>

  </div>

  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
  <div id="jump-to-line" style="display:none">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
      <button type="submit" class="btn">Go</button>
</form>  </div>

  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="container-lg site-footer-container">
  <div class="site-footer " role="contentinfo">
    <ul class="site-footer-links float-right">
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage" class="site-footer-mark" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2017 <span title="0.20290s from unicorn-1147714388-8xqwj">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
    You can't perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha256-OiTVyGEpRWTLRqro9+PHTHqtjluGGBa/2WknMA8gP1E=" src="https://assets-cdn.github.com/assets/frameworks-3a24d5c861294564cb46aae8f7e3c74c7aad8e5b861816bfd96927300f203f51.js"></script>
    
    <script async="async" crossorigin="anonymous" integrity="sha256-Uv70k704s5nRMt7p1DZsUK6M0GU3ujWGhxKp6fqiITk=" src="https://assets-cdn.github.com/assets/github-52fef493bd38b399d132dee9d4366c50ae8cd06537ba35868712a9e9faa22139.js"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
  </div>
</div>


  </body>
</html>

