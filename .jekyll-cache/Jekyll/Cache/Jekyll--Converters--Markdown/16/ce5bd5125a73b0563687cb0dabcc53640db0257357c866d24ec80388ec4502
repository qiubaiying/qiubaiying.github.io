I"›<blockquote>
  <p>å¹¶ä¸é€‚åˆé˜…è¯»çš„ä¸ªäººæ–‡æ¡£ã€‚</p>
</blockquote>

<h1 id="git-revert-å’Œ-git-reset-çš„åŒºåˆ«"><strong>git revert</strong> å’Œ <strong>git reset</strong> çš„åŒºåˆ«</h1>
<p>å…ˆçœ‹å›¾ï¼š</p>

<p><img src="https://ww3.sinaimg.cn/large/006tNbRwgy1fcr9tu6vdjj30t30ez0y8.jpg" alt="" /></p>

<p><strong>sourceTree</strong> ä¸­ <strong>revert</strong> è¯‘ä¸º<strong><code class="language-plaintext highlighter-rouge">æäº¤å›æ»š</code></strong>ï¼Œä½œç”¨ä¸ºå¿½ç•¥ä½ æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œç„¶åæäº¤ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ã€‚æ–°çš„ç‰ˆæœ¬ä¸­å·²è¿‘åˆ é™¤äº†ä½ æ‰€æŒ‡å®šçš„ç‰ˆæœ¬ã€‚</p>

<p><strong>reset</strong> ä¸º <strong>é‡ç½®åˆ°è¿™æ¬¡æäº¤</strong>ï¼Œå°†å†…å®¹é‡ç½®åˆ°æŒ‡å®šçš„ç‰ˆæœ¬ã€‚<code class="language-plaintext highlighter-rouge">git reset</code> å‘½ä»¤åé¢æ˜¯éœ€è¦åŠ 2ç§å‚æ•°çš„ï¼š<code class="language-plaintext highlighter-rouge">â€“-hard</code> å’Œ <code class="language-plaintext highlighter-rouge">â€“-soft</code>ã€‚è¿™æ¡å‘½ä»¤é»˜è®¤æƒ…å†µä¸‹æ˜¯ <code class="language-plaintext highlighter-rouge">-â€“soft</code>ã€‚</p>

<p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤æ—¶ï¼Œè¿™è¯¥æ¡commitå·ä¹‹ åï¼ˆæ—¶é—´ä½œä¸ºå‚è€ƒç‚¹ï¼‰çš„æ‰€æœ‰commitçš„ä¿®æ”¹éƒ½ä¼šé€€å›åˆ°gitç¼“å†²åŒºä¸­ã€‚ä½¿ç”¨<code class="language-plaintext highlighter-rouge">git status</code> å‘½ä»¤å¯ä»¥åœ¨ç¼“å†²åŒºä¸­çœ‹åˆ°è¿™äº›ä¿®æ”¹ã€‚è€Œå¦‚æœåŠ ä¸Š<code class="language-plaintext highlighter-rouge">-â€“hard</code>å‚æ•°ï¼Œåˆ™ç¼“å†²åŒºä¸­ä¸ä¼šå­˜å‚¨è¿™äº›ä¿®æ”¹ï¼Œgitä¼šç›´æ¥ä¸¢å¼ƒè¿™éƒ¨åˆ†å†…å®¹ã€‚å¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">git push origin HEAD --force</code> å¼ºåˆ¶å°†åˆ†åŒºå†…å®¹æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚</p>

<h4 id="ä»£ç å›é€€">ä»£ç å›é€€</h4>

<p>é»˜è®¤å‚æ•° <code class="language-plaintext highlighter-rouge">-soft</code>,æ‰€æœ‰commitçš„ä¿®æ”¹éƒ½ä¼šé€€å›åˆ°gitç¼“å†²åŒº
å‚æ•°<code class="language-plaintext highlighter-rouge">--hard</code>ï¼Œæ‰€æœ‰commitçš„ä¿®æ”¹ç›´æ¥ä¸¢å¼ƒ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git reset --hard HEAD^ 		å›é€€åˆ°ä¸Šä¸ªç‰ˆæœ¬
$ git reset --hard commit_id	é€€åˆ°/è¿›åˆ° æŒ‡å®šcommit_id æ¨é€åˆ°è¿œç¨‹	

$ git push origin HEAD --force
</code></pre></div></div>

<h4 id="å¯ä»¥åƒçš„åæ‚”è¯-ç‰ˆæœ¬ç©¿æ¢­">å¯ä»¥åƒçš„åæ‚”è¯-&gt;ç‰ˆæœ¬ç©¿æ¢­</h4>

<p>å½“ä½ å›æ»šä¹‹åï¼Œåˆåæ‚”äº†ï¼Œæƒ³æ¢å¤åˆ°æ–°çš„ç‰ˆæœ¬æ€ä¹ˆåŠï¼Ÿ</p>

<p>ç”¨<code class="language-plaintext highlighter-rouge">git reflog</code>æ‰“å°ä½ è®°å½•ä½ çš„æ¯ä¸€æ¬¡æ“ä½œè®°å½•</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git reflog

è¾“å‡ºï¼š
c7edbfe HEAD@{0}: reset: moving to c7edbfefab1bdbef6cb60d2a7bb97aa80f022687
470e9c2 HEAD@{1}: reset: moving to 470e9c2
b45959e HEAD@{2}: revert: Revert "add img"
470e9c2 HEAD@{3}: reset: moving to 470e9c2
2c26183 HEAD@{4}: reset: moving to 2c26183
0f67bb7 HEAD@{5}: revert: Revert "add img"
</code></pre></div></div>

<p>æ‰¾åˆ°ä½ æ“ä½œçš„idå¦‚ï¼š<code class="language-plaintext highlighter-rouge">b45959e</code>ï¼Œå°±å¯ä»¥å›é€€åˆ°è¿™ä¸ªç‰ˆæœ¬</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git reset --hard b45959e
</code></pre></div></div>

:ET